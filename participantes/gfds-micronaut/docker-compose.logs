 Network gfds-micronaut_default  Creating
 Network gfds-micronaut_default  Created
 Volume "gfds-micronaut_db-data"  Creating
 Volume "gfds-micronaut_db-data"  Created
 Container rb-db  Creating
 Container rb-db  Created
 Container rb-api1  Creating
 Container rb-api2  Creating
 Container rb-api2  Created
 Container rb-api1  Created
 Container rb-lb  Creating
 Container rb-lb  Created
Attaching to rb-api1, rb-api2, rb-db, rb-lb
rb-db    | The files belonging to this database system will be owned by user "postgres".
rb-db    | This user must also own the server process.
rb-db    | 
rb-db    | The database cluster will be initialized with locale "en_US.utf8".
rb-db    | The default database encoding has accordingly been set to "UTF8".
rb-db    | The default text search configuration will be set to "english".
rb-db    | 
rb-db    | Data page checksums are disabled.
rb-db    | 
rb-db    | fixing permissions on existing directory /var/lib/postgresql/data ... ok
rb-db    | creating subdirectories ... ok
rb-db    | selecting dynamic shared memory implementation ... posix
rb-db    | selecting default max_connections ... 100
rb-db    | selecting default shared_buffers ... 128MB
rb-db    | selecting default time zone ... UTC
rb-db    | creating configuration files ... ok
rb-db    | running bootstrap script ... ok
rb-db    | sh: locale: not found
rb-db    | 2024-02-18 15:38:59.615 UTC [30] WARNING:  no usable system locales were found
rb-db    | performing post-bootstrap initialization ... ok
rb-db    | initdb: warning: enabling "trust" authentication for local connections
rb-db    | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
rb-db    | syncing data to disk ... ok
rb-db    | 
rb-db    | 
rb-db    | Success. You can now start the database server using:
rb-db    | 
rb-db    |     pg_ctl -D /var/lib/postgresql/data -l logfile start
rb-db    | 
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-db    | waiting for server to start....2024-02-18 15:39:00.853 UTC [36] LOG:  starting PostgreSQL 16.2 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
rb-db    | 2024-02-18 15:39:00.853 UTC [36] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
rb-db    | 2024-02-18 15:39:00.854 UTC [39] LOG:  database system was shut down at 2024-02-18 15:39:00 UTC
rb-db    | 2024-02-18 15:39:00.857 UTC [36] LOG:  database system is ready to accept connections
rb-db    |  done
rb-db    | server started
rb-db    | CREATE DATABASE
rb-db    | 
rb-db    | 
rb-db    | /usr/local/bin/docker-entrypoint.sh: running /docker-entrypoint-initdb.d/init.sql
rb-db    | psql:/docker-entrypoint-initdb.d/init.sql:1: NOTICE:  table "transactions" does not exist, skipping
rb-db    | DROP TABLE
rb-db    | DROP TABLE
rb-db    | psql:/docker-entrypoint-initdb.d/init.sql:2: NOTICE:  table "clients" does not exist, skipping
rb-db    | CREATE TABLE
rb-db    | CREATE INDEX
rb-db    | CREATE TABLE
rb-db    | CREATE INDEX
rb-db    | INSERT 0 5
rb-db    | CREATE FUNCTION
rb-db    | CREATE FUNCTION
rb-db    | CREATE PROCEDURE
rb-db    | CREATE PROCEDURE
rb-db    | 
rb-db    | 
rb-db    | 2024-02-18 15:39:01.022 UTC [36] LOG:  received fast shutdown request
rb-db    | 2024-02-18 15:39:01.022 UTC [36] LOG:  aborting any active transactions
rb-db    | waiting for server to shut down....2024-02-18 15:39:01.031 UTC [36] LOG:  background worker "logical replication launcher" (PID 42) exited with exit code 1
rb-db    | 2024-02-18 15:39:01.031 UTC [37] LOG:  shutting down
rb-db    | 2024-02-18 15:39:01.031 UTC [37] LOG:  checkpoint starting: shutdown immediate
rb-db    | 2024-02-18 15:39:01.042 UTC [37] LOG:  checkpoint complete: wrote 945 buffers (5.8%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.011 s, sync=0.001 s, total=0.011 s; sync files=0, longest=0.000 s, average=0.000 s; distance=4316 kB, estimate=4316 kB; lsn=0/1927748, redo lsn=0/1927748
rb-db    | 2024-02-18 15:39:01.048 UTC [36] LOG:  database system is shut down
rb-db    |  done
rb-db    | server stopped
rb-db    | 
rb-db    | PostgreSQL init process complete; ready for start up.
rb-db    | 
rb-db    | 2024-02-18 15:39:01.144 UTC [1] LOG:  starting PostgreSQL 16.2 on x86_64-pc-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
rb-db    | 2024-02-18 15:39:01.145 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
rb-db    | 2024-02-18 15:39:01.145 UTC [1] LOG:  listening on IPv6 address "::", port 5432
rb-db    | 2024-02-18 15:39:01.145 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
rb-db    | 2024-02-18 15:39:01.146 UTC [54] LOG:  database system was shut down at 2024-02-18 15:39:01 UTC
rb-db    | 2024-02-18 15:39:01.149 UTC [1] LOG:  database system is ready to accept connections
rb-api1  | [36m15:39:04.026[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m15:39:04.216[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m15:39:05.427[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m15:39:05.428[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:05.632[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m15:39:05.633[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:07.033[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m15:39:07.128[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m15:39:07.517[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m15:39:07.630[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m15:39:07.727[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m15:39:07.731[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.103s)
rb-api2  | [36m15:39:07.741[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api1  | [36m15:39:07.829[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m15:39:07.833[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.089s)
rb-api1  | [36m15:39:07.926[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2 exited with code 0
rb-api1 exited with code 0
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m15:39:14.025[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m15:39:14.217[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m15:39:15.419[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m15:39:15.420[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m15:39:15.529[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m15:39:15.530[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:17.031[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m15:39:17.419[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m15:39:17.429[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m15:39:17.631[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m15:39:17.726[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.097s)
rb-api2  | [36m15:39:17.915[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-db    | 2024-02-18 15:39:17.947 UTC [96] LOG:  could not receive data from client: Connection reset by peer
rb-api1  | [36m15:39:18.019[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m15:39:18.220[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m15:39:18.222[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.096s)
rb-api1  | [36m15:39:18.317[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2 exited with code 0
rb-api1 exited with code 0
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m15:39:24.119[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m15:39:24.120[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api2  | [36m15:39:25.526[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m15:39:25.527[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m15:39:25.528[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api1  | [36m15:39:25.528[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:26.818[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m15:39:26.920[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m15:39:27.238[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m15:39:27.431[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m15:39:27.626[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m15:39:27.628[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m15:39:27.631[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.102s)
rb-api1  | [36m15:39:27.633[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.100s)
rb-api1  | [36m15:39:27.731[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2  | [36m15:39:27.732[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api2 exited with code 0
rb-api1 exited with code 0
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m15:39:33.723[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m15:39:33.823[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-api1  | [36m15:39:35.033[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api1  | [36m15:39:35.115[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:35.132[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.pool.HikariPool[0;39m - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71329995
rb-api2  | [36m15:39:35.134[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Start completed.
rb-api2  | [36m15:39:36.527[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api1  | [36m15:39:36.730[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mi.m.flyway.AbstractFlywayMigration[0;39m - Running migrations for database with qualifier [default]
rb-api2  | [36m15:39:37.026[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api2  | [36m15:39:37.229[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api2  | [36m15:39:37.232[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.098s)
rb-api2  | [36m15:39:37.243[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api2  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api2  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api2  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api2  | 	at com.ngfds.Application.main(Application.java:8)
rb-api2  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api2  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api2  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api2  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api2  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api2  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api2  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api2  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api2  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api2  | 	... 9 common frames omitted
rb-api1  | [36m15:39:37.324[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35morg.flywaydb.core.FlywayExecutor[0;39m - Database: jdbc:postgresql://db:5432/rinha (PostgreSQL 16.2)
rb-api1  | [36m15:39:37.527[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.c.i.s.JdbcTableSchemaHistory[0;39m - Schema history table "public"."flyway_schema_history" does not exist yet
rb-api1  | [36m15:39:37.615[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mo.f.core.internal.command.DbValidate[0;39m - Successfully validated 1 migration (execution time 00:00.182s)
rb-api1  | [36m15:39:37.629[0;39m [1;30m[main][0;39m [1;31mERROR[0;39m [35mio.micronaut.runtime.Micronaut[0;39m - Error starting Micronaut server: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [javax.sql.DataSource] could not be loaded: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:2001)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:292)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3382)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3737)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:361)
rb-api1  | 	at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:200)
rb-api1  | 	at io.micronaut.runtime.Micronaut.start(Micronaut.java:72)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:326)
rb-api1  | 	at io.micronaut.runtime.Micronaut.run(Micronaut.java:312)
rb-api1  | 	at com.ngfds.Application.main(Application.java:8)
rb-api1  | Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
rb-api1  | 	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:192)
rb-api1  | 	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:203)
rb-api1  | 	at org.flywaydb.core.Flyway.migrate(Flyway.java:147)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.runFlyway(AbstractFlywayMigration.java:103)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.forceRun(AbstractFlywayMigration.java:92)
rb-api1  | 	at io.micronaut.flyway.AbstractFlywayMigration.run(AbstractFlywayMigration.java:66)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.lambda$onCreated$1(DataSourceMigrationRunner.java:65)
rb-api1  | 	at java.base/java.util.Optional.ifPresent(Optional.java:178)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:63)
rb-api1  | 	at io.micronaut.flyway.DataSourceMigrationRunner.onCreated(DataSourceMigrationRunner.java:39)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.triggerBeanCreatedEventListener(DefaultBeanContext.java:2383)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.postBeanCreated(DefaultBeanContext.java:2360)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2304)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2312)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3114)
rb-api1  | 	at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:3016)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeEagerBean(DefaultBeanContext.java:2688)
rb-api1  | 	at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1995)
rb-api1  | 	... 9 common frames omitted
rb-api2 exited with code 1
rb-api1 exited with code 1
rb-api2  |  __  __ _                                  _   
rb-api2  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api2  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api2  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api2  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api1  |  __  __ _                                  _   
rb-api1  | |  \/  (_) ___ _ __ ___  _ __   __ _ _   _| |_ 
rb-api1  | | |\/| | |/ __| '__/ _ \| '_ \ / _` | | | | __|
rb-api1  | | |  | | | (__| | | (_) | | | | (_| | |_| | |_ 
rb-api1  | |_|  |_|_|\___|_|  \___/|_| |_|\__,_|\__,_|\__|
rb-api2  | [36m15:39:43.701[0;39m [1;30m[main][0;39m [34mINFO [0;39m [35mcom.zaxxer.hikari.HikariDataSource[0;39m - HikariPool-1 - Starting...
rb-lb exited with code 0
rb-lb exited with code 0
rb-api1 exited with code 0
rb-api1 exited with code 143
rb-api2 exited with code 0
rb-api2 exited with code 143
rb-db    | 2024-02-18 15:39:44.560 UTC [1] LOG:  received fast shutdown request
rb-db    | 2024-02-18 15:39:44.560 UTC [1] LOG:  aborting any active transactions
rb-db    | 2024-02-18 15:39:44.563 UTC [1] LOG:  background worker "logical replication launcher" (PID 57) exited with exit code 1
rb-db    | 2024-02-18 15:39:44.563 UTC [52] LOG:  shutting down
rb-db    | 2024-02-18 15:39:44.563 UTC [52] LOG:  checkpoint starting: shutdown immediate
rb-db    | 2024-02-18 15:39:44.564 UTC [52] LOG:  checkpoint complete: wrote 49 buffers (0.3%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.001 s, sync=0.001 s, total=0.002 s; sync files=0, longest=0.000 s, average=0.000 s; distance=239 kB, estimate=239 kB; lsn=0/1963428, redo lsn=0/1963428
rb-db    | 2024-02-18 15:39:44.567 UTC [1] LOG:  database system is shut down
rb-db exited with code 0
