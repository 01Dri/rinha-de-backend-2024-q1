 Network rinha-nginx-2024q1  Creating
 Network rinha-nginx-2024q1  Created
 Container victorverdoodt-db-1  Creating
 Container victorverdoodt-db-1  Created
 Container victorverdoodt-rinhadebackend-1  Creating
 Container victorverdoodt-rinhadebackend-1  Created
 Container victorverdoodt-rinhadebackend02-1  Creating
 Container victorverdoodt-rinhadebackend02-1  Created
 Container victorverdoodt-nginx-1  Creating
 Container victorverdoodt-nginx-1  Created
Attaching to db-1, nginx-1, rinhadebackend-1, rinhadebackend02-1
db-1                | The files belonging to this database system will be owned by user "postgres".
db-1                | This user must also own the server process.
db-1                | 
db-1                | The database cluster will be initialized with locale "en_US.utf8".
db-1                | The default database encoding has accordingly been set to "UTF8".
db-1                | The default text search configuration will be set to "english".
db-1                | 
db-1                | Data page checksums are disabled.
db-1                | 
db-1                | fixing permissions on existing directory /var/lib/postgresql/data ... ok
db-1                | creating subdirectories ... ok
db-1                | selecting dynamic shared memory implementation ... posix
db-1                | selecting default max_connections ... 100
db-1                | selecting default shared_buffers ... 128MB
db-1                | selecting default time zone ... Etc/UTC
db-1                | creating configuration files ... ok
db-1                | running bootstrap script ... ok
db-1                | performing post-bootstrap initialization ... ok
db-1                | syncing data to disk ... ok
db-1                | 
db-1                | 
db-1                | Success. You can now start the database server using:
db-1                | 
db-1                |     pg_ctl -D /var/lib/postgresql/data -l logfile start
db-1                | 
db-1                | initdb: warning: enabling "trust" authentication for local connections
db-1                | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
db-1                | waiting for server to start....2024-02-17 18:28:59.995 UTC [48] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
db-1                | 2024-02-17 18:28:59.998 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1                | 2024-02-17 18:29:00.006 UTC [51] LOG:  database system was shut down at 2024-02-17 18:28:59 UTC
db-1                | 2024-02-17 18:29:00.013 UTC [48] LOG:  database system is ready to accept connections
db-1                |  done
db-1                | server started
nginx-1             | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1             | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1             | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1             | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
db-1                | CREATE DATABASE
db-1                | 
db-1                | 
db-1                | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
db-1                | 
db-1                | waiting for server to shut down....2024-02-17 18:29:00.189 UTC [48] LOG:  received fast shutdown request
db-1                | 2024-02-17 18:29:00.192 UTC [48] LOG:  aborting any active transactions
db-1                | 2024-02-17 18:29:00.194 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
db-1                | 2024-02-17 18:29:00.195 UTC [49] LOG:  shutting down
db-1                | 2024-02-17 18:29:00.198 UTC [49] LOG:  checkpoint starting: shutdown immediate
nginx-1             | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1             | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1             | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1             | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1             | /docker-entrypoint.sh: Configuration complete; ready for start up
db-1                | 2024-02-17 18:29:00.686 UTC [49] LOG:  checkpoint complete: wrote 923 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.385 s, sync=0.092 s, total=0.491 s; sync files=301, longest=0.067 s, average=0.001 s; distance=4257 kB, estimate=4257 kB; lsn=0/1913068, redo lsn=0/1913068
db-1                | 2024-02-17 18:29:00.691 UTC [48] LOG:  database system is shut down
db-1                |  done
db-1                | server stopped
db-1                | 
db-1                | PostgreSQL init process complete; ready for start up.
db-1                | 
db-1                | 2024-02-17 18:29:00.813 UTC [1] LOG:  starting PostgreSQL 16.2 (Debian 16.2-1.pgdg120+2) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit
db-1                | 2024-02-17 18:29:00.813 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
db-1                | 2024-02-17 18:29:00.813 UTC [1] LOG:  listening on IPv6 address "::", port 5432
db-1                | 2024-02-17 18:29:00.818 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
db-1                | 2024-02-17 18:29:00.825 UTC [64] LOG:  database system was shut down at 2024-02-17 18:29:00 UTC
db-1                | 2024-02-17 18:29:00.832 UTC [1] LOG:  database system is ready to accept connections
rinhadebackend-1    | info: Microsoft.Hosting.Lifetime[14]
rinhadebackend-1    |       Now listening on: http://[::]:8080
rinhadebackend-1    | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend-1    |       Application started. Press Ctrl+C to shut down.
rinhadebackend-1    | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend-1    |       Hosting environment: Production
rinhadebackend-1    | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend-1    |       Content root path: /app
rinhadebackend02-1  | info: Microsoft.Hosting.Lifetime[14]
rinhadebackend02-1  |       Now listening on: http://[::]:8080
rinhadebackend02-1  | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend02-1  |       Application started. Press Ctrl+C to shut down.
rinhadebackend02-1  | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend02-1  |       Hosting environment: Production
rinhadebackend02-1  | info: Microsoft.Hosting.Lifetime[0]
rinhadebackend02-1  |       Content root path: /app
db-1                | 2024-02-17 18:29:02.421 UTC [72] ERROR:  relation "__EFMigrationsHistory" already exists
db-1                | 2024-02-17 18:29:02.421 UTC [72] STATEMENT:  CREATE TABLE "__EFMigrationsHistory" (
db-1                | 	    "MigrationId" character varying(150) NOT NULL,
db-1                | 	    "ProductVersion" character varying(32) NOT NULL,
db-1                | 	    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
db-1                | 	)
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Command[20102]
rinhadebackend02-1  |       Failed executing DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
rinhadebackend02-1  |       CREATE TABLE "__EFMigrationsHistory" (
rinhadebackend02-1  |           "MigrationId" character varying(150) NOT NULL,
rinhadebackend02-1  |           "ProductVersion" character varying(32) NOT NULL,
rinhadebackend02-1  |           CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
rinhadebackend02-1  |       );
db-1                | 2024-02-17 18:30:20.237 UTC [177] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.238 UTC [178] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.242 UTC [172] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.242 UTC [182] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend02-1  |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend02-1  |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ3V", Request id "0HN1FSP8AOQ3V:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
rinhadebackend02-1  | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend02-1  |       Connection id "0HN1FSPB48DOJ", Request id "0HN1FSPB48DOJ:00000001": An unhandled exception was thrown by the application.
rinhadebackend02-1  |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend02-1  |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend02-1  |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend02-1  |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend02-1  |         Exception data:
rinhadebackend02-1  |           Severity: FATAL
rinhadebackend02-1  |           SqlState: 53300
rinhadebackend02-1  |           MessageText: sorry, too many clients already
rinhadebackend02-1  |           File: proc.c
rinhadebackend02-1  |           Line: 351
rinhadebackend02-1  |           Routine: InitProcess
rinhadebackend02-1  | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend02-1  |       Connection id "0HN1FSPB48DOL", Request id "0HN1FSPB48DOL:00000001": An unhandled exception was thrown by the application.
rinhadebackend02-1  |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend02-1  |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend02-1  |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend02-1  |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend02-1  |         Exception data:
rinhadebackend02-1  |           Severity: FATAL
rinhadebackend02-1  |           SqlState: 53300
rinhadebackend02-1  |           MessageText: sorry, too many clients already
rinhadebackend02-1  |           File: proc.c
rinhadebackend02-1  |           Line: 351
rinhadebackend02-1  |           Routine: InitProcess
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend02-1  |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend02-1  |       Connection id "0HN1FSPB48DOD", Request id "0HN1FSPB48DOD:00000001": An unhandled exception was thrown by the application.
rinhadebackend02-1  |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend02-1  |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend02-1  |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend02-1  |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend02-1  |       --- End of stack trace from previous location ---
rinhadebackend02-1  |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend02-1  |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend02-1  |         Exception data:
rinhadebackend02-1  |           Severity: FATAL
rinhadebackend02-1  |           SqlState: 53300
rinhadebackend02-1  |           MessageText: sorry, too many clients already
rinhadebackend02-1  |           File: proc.c
rinhadebackend02-1  |           Line: 351
rinhadebackend02-1  |           Routine: InitProcess
db-1                | 2024-02-17 18:30:20.538 UTC [203] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.539 UTC [202] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4C", Request id "0HN1FSP8AOQ4C:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4B", Request id "0HN1FSP8AOQ4B:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
db-1                | 2024-02-17 18:30:20.619 UTC [209] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.620 UTC [216] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4F", Request id "0HN1FSP8AOQ4F:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
db-1                | 2024-02-17 18:30:20.620 UTC [206] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.621 UTC [204] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.621 UTC [211] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.622 UTC [208] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.623 UTC [207] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.623 UTC [214] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.625 UTC [215] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.626 UTC [205] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.626 UTC [213] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.628 UTC [218] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.630 UTC [217] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.633 UTC [196] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.634 UTC [197] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.634 UTC [193] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.634 UTC [198] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
db-1                | 2024-02-17 18:30:20.639 UTC [200] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
db-1                | 2024-02-17 18:30:20.642 UTC [194] FATAL:  sorry, too many clients already
db-1                | 2024-02-17 18:30:20.643 UTC [199] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4K", Request id "0HN1FSP8AOQ4K:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
db-1                | 2024-02-17 18:30:20.647 UTC [195] FATAL:  sorry, too many clients already
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4D", Request id "0HN1FSP8AOQ4D:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4H", Request id "0HN1FSP8AOQ4H:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
rinhadebackend-1    | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend-1    |       Connection id "0HN1FSP8AOQ4P", Request id "0HN1FSP8AOQ4P:00000001": An unhandled exception was thrown by the application.
rinhadebackend-1    |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend-1    |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.PoolingDataSource.<Get>g__RentAsync|34_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
rinhadebackend-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
rinhadebackend-1    |          at RinhaDeBackEnd.Endpoints.ClientEndpoint.<>c.<<MapClientEndpoint>b__0_0>d.MoveNext() in /src/RinhaDeBackEnd/Endpoints/ClientEndpoint.cs:line 20
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
rinhadebackend-1    |          at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
rinhadebackend-1    |       --- End of stack trace from previous location ---
rinhadebackend-1    |          at RinhaDeBackEnd.Domain.Middleware.JsonExceptionMiddleware.InvokeAsync(HttpContext context) in /src/RinhaDeBackEnd/Domain/Middleware/JsonExceptionMiddleware.cs:line 18
rinhadebackend-1    |          at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
rinhadebackend-1    |         Exception data:
rinhadebackend-1    |           Severity: FATAL
rinhadebackend-1    |           SqlState: 53300
rinhadebackend-1    |           MessageText: sorry, too many clients already
rinhadebackend-1    |           File: proc.c
rinhadebackend-1    |           Line: 351
rinhadebackend-1    |           Routine: InitProcess
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend-1    |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend02-1  |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]
rinhadebackend02-1  |       An error occurred using the connection to database 'rinha' on server 'tcp://db:5432'.
rinhadebackend02-1  | fail: Microsoft.AspNetCore.Server.Kestrel[13]
rinhadebackend02-1  |       Connection id "0HN1FSPB48DP3", Request id "0HN1FSPB48DP3:00000001": An unhandled exception was thrown by the application.
rinhadebackend02-1  |       Npgsql.PostgresException (0x80004005): 53300: sorry, too many clients already
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
rinhadebackend02-1  |          at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
rinhadebackend02-1  |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
